%section{"data-state" => "title"}
	%h1 Administration GNU/Linux
	%h3.inverted Monitoring
	%br
	%br
	%p 2012-05
	%br
	%br
	%i
		%small
			%a{:href => "http://www.gnuside.com"} Gnuside
			\/
			%a{:href => "http://twitter.com/gnuside"} @gnuside

%section
	%h2 Monitoring

	%section
		%h3 Surveiller l'activité

		%ul
			%li usage CPU
			%li utilisation mémoire
			%li processus
			%li usage des disques
			%li statistiques d'I/O disques
			%li performances
			%li etc.
	
	%section
		%h3 Faire remonter l'information

		%ul
			%li email
			%li fichiers de logs
			%li execution de scripts


%section 
	%h2 Tips

	%p 
		%tt 
			watch 
			%em command-name [command-parameters]
		%br
		%small lance une commande à intervalles réguliers pour surveiller l'évolution des données ...


%section
	%h2 CPU et mémoire

	%section
		%h3 Informations sur le CPU

		%p
			%tt /proc/cpuinfo


	%section
		%h3 Charge système

		%p
			%tt uptime

		%ul
			%li heure actuelle
			%li temps de fonctionnement du système
			%li nombre d’utilisateur connectés
			%li 
				charge du système moyenne 
				%br
				pour les 1, 5 et 15 dernières minutes
	
		%pre
			%code
				:preserve
					# uptime
					10:21:06 up 5 days, 19:11,  2 users,  load average: 0.08, 0.03, 0.00
			/

	
	%section
		%h3 Information sur la mémoire
		
		%p
			%tt /proc/meminfo
			


	%section
		%h3 Utilisation de la mémoire (1/2)

		%p
			%tt free
			%br
			%small affiche les données relatives à l’utilisation de la mémoire

		%pre
			%code
				:preserve
					total       used       free     shared    buffers     cached
					Mem:        498816     480412      18404          0      10092     319104
					-/+ buffers/cache:     151216     347600
					Swap:       761852     159008     602844
			/


	%section
		%h3 Utilisation de la mémoire (2/2)

		%p
			%tt vmstat

		%pre
			%code
				:preserve
					# vmstat
					procs -----------memory---------- ---swap-- -----io---- -system-- -----cpu------
					 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
					 3  0 159028  46552   9572 303096   26   49   187   361  549  541 39  6 47  8  0
			/
		


	%section
		%h3 Par processus (1/3)

		%p
			%tt ps [...]
			(ou pstree)

		%p 
			%small
				affiche la liste des processus qui tournent
				%br
				(avec leur id,  utilisateur propriétaire, consommation mémoire, etc.)


	%section
		%h3 Par processus (2/3)

		%p
			%tt pmap

	%section
		%h3 Par processus (3/3)

		%p
			%tt top

		%p 
			vue dynamique en temps réel du système 
			%br
			(synthèse et liste des tâches)

		%ul 
			%li utilisation mémoire
			%li utilisation CPU
			%li et autres informations sur les processus...



%section
	%h2 Disques


	%section
		%h3 Usage du disque

		%p
			%tt du [...]
			%br
			%small affiche l’usage du disque 

		%ul
			%li pour chaque répertoire et sous répertoire 
			%li en partant du répertoire courant ‘.’

	%section
		%h3 Non-usage du disque

		%p
			%tt df [...]
			%br
			%small 
				affiche la quantité d’espace libre 
				%br
				au niveau des différent périphériques montés ou passé en paramètre

	%section
		%h3 Partitions

		%p
			%tt /proc/partitions

	%section
		%h3 SMART

		%p 
			%tt smartctl [...]
			%br
			%small 
				récupère les informations SMART du disque
				%br
				(température, durée de fonctionnement, nombre d'erreurs, etc)

		%pre
			%code
				:preserve
					# smartctl -A
					...
			/
	
	%section
		%h3 Performance

		%p 
			%tt hdparm [...]
			%br
			%small liste ou modifie les paramètres des disques

%section
	%h2 Utilisateurs et quotas

	%section
		%h3 Fichier et descripteurs ouverts

		%p
			%tt lsof [...]
			%br
			%small liste les informations sur les descripteurs ouverts

		%ul
			%li utilisateurs du descripteur
			%li fichiers ouverts
			%li 
				connexions réseau ouvertes (option
				%tt -i
				)

	%section
		%h3 Liste des utilisateurs
		
		%p
			%tt who
			%br
			%small affiche la liste des utilisateurs connectés.

%section
	%h2 Réseau

	%section
		%h3 Sockets

		%p
			%tt netstat [...]
			%br
			%small Affiche les socket et les processus associés.

		%pre
			%code
				:preserve
					$ netstat -nap
					Proto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name   
					tcp        0      0 192.168.1.81:59961          63.111.66.12:80             ESTABLISHED 21879/gweather-appl
					tcp        0      0 192.168.1.81:48264          64.233.163.109:995          TIME_WAIT   -
					tcp        0      0 192.168.1.81:50652          147.140.8.44:22             ESTABLISHED 1644/ssh
					tcp        0      0 192.168.1.81:49265          147.140.8.44:22             ESTABLISHED 5374/ssh
					tcp        0      0 192.168.1.81:49262          147.140.8.44:22             ESTABLISHED 5321/ssh
					tcp        0      0 192.168.1.81:49157          147.140.8.44:22             ESTABLISHED 13360/ssh
			/


%section
	%h2 Acquisition, centralisation et rotation des logs

%section
	%h2 Autres outils

	%ul
		%li Nagios
		%li Nmon
		%li Strace
		%li Tcpdump
		%li Wireshark

%section
	%h2 Fin
	%section
		%h3 Références
		%ul
			%li
				%a{ :href => "http://kernel.org/" } The Linux Kernel Archives
			%li
				%a{ :href => "http://doc.ubuntu-fr.org/tutoriel/compiler_linux" } Ubuntu-fr : Compiler son kernel

	%section
		%h3 Des questions ?

	%section
		%h3 Merci !

